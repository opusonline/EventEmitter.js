/*!
 * Event Emitter (the best you'll get ^^)
 * author: Stefan Benicke
 * version: 1.1.0
 * url: https://github.com/opusonline/EventEmitter.js
 * license: MIT
 */
!function(e,t){"use strict";function n(t,n,r){l(t)?(this.listener=t[0],this.context=t[1]):(this.listener=t,this.context=e),this.namespaces=n,this.once=r||!1}function r(){}function s(e,t,r){var s,i=e.split(".");e=i.splice(0,1)[0],s=new n(t,i,r),"undefined"==typeof this._events&&(this._events={}),this._events.hasOwnProperty(e)===!1?this._events[e]=[s]:this._events[e].push(s),this._events.hasOwnProperty("newListener")&&this.emit("newListener",e,s)}function i(e,t,n,r){var s,i,o;for(s=0,i=this._events[e].length;i>s;s++)n(this._events[e][s],t,r)?(this._events.hasOwnProperty("removeListener")&&this.emit("removeListener",e,this._events[e][s]),delete this._events[e][s]):(o||(o=[]),o.push(this._events[e][s]));l(o)&&o.length>0?this._events[e]=o:delete this._events[e]}function o(e){var t,n;if("undefined"!=typeof e){for(t=0,n=this._events[e].length;n>t;t++)this.emit("removeListener",e,this._events[e][t]),delete this._events[e][t];delete this._events[e]}else for(e in this._events)this._events.hasOwnProperty(e)&&o.call(this,e)}function h(e,t){return a(t,e.namespaces)}function u(e,t,n){return(l(n)&&e.listener===n[0]&&e.context===n[1]||e.listener===n)&&a(t,e.namespaces)}function f(e,t){return e.once===!0&&a(t,e.namespaces)}function a(e,t){return l(e)?0===e.length?!0:0===t.length?!1:c(e,function(e){return p(t,e)>-1}):!0}function l(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}function p(e,t,n){var r,s,i,o;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,n);if(null==e)throw new TypeError("array is null or not defined");if(s=Object(e),i=s.length>>>0,0===i)return-1;if(o=+n||0,Math.abs(o)===1/0&&(o=0),o>=i)return-1;for(r=Math.max(o>=0?o:i-Math.abs(o),0);i>r;){if(r in s&&s[r]===t)return r;r++}return-1}function c(e,t,n){var r,s,i,o,h,u;if(Array.prototype.every)return Array.prototype.every.call(e,t,n);if(null==e)throw new TypeError("array is null or not defined");if(i=Object(e),o=i.length>>>0,"function"!=typeof t)throw new TypeError;for(arguments.length>2&&(r=n),s=0;o>s;){if(s in i&&(h=i[s],u=t.call(r,h,s,i),!u))return!1;s++}return!0}function v(e,t,n){return String.prototype.includes?String.prototype.includes.call(e,t,n):-1!==String.prototype.indexOf.call(e,t,n)}function y(e,t){var n,r;if(!l(e))return e;if(l(t))for(n=0,r=t.length;r>n;n++)e.push(t[n]);else e.push(t);return e}var g=e.EventEmitter;r.noConflict=function(){return e.EventEmitter=g,r},r.inherits=function(e){e.super_=r,e.prototype=m(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},r.prototype._events=t,r.prototype.listeners=function(e){var t,n,r,s=[];if(0===arguments.length||"undefined"==typeof e){for(e in this._events)if(this._events.hasOwnProperty(e))for(t=0,n=this._events[e].length;n>t;t++)s.push(this._events[e][t]);return s}if(arguments.length>1){for(t=0,n=arguments.length;n>t;t++)y(s,this.listeners.call(this,arguments[t]));return s}if(v(e,".")&&(r=e.split("."),e=r.splice(0,1)[0]),""===e){for(e in this._events)if(this._events.hasOwnProperty(e))for(t=0,n=this._events[e].length;n>t;t++)a(r,this._events[e][t].namespaces)&&s.push(this._events[e][t])}else{if(this._events.hasOwnProperty(e)===!1)return s;for(t=0,n=this._events[e].length;n>t;t++)a(r,this._events[e][t].namespaces)&&s.push(this._events[e][t])}return s},r.prototype.emit=function(e){var t,n,r,s,o;if("undefined"==typeof this._events||arguments.length<1||"undefined"==typeof e)return this;if(l(e)){for(r=0,s=e.length;s>r;r++)arguments[0]=e[r],this.emit.apply(this,arguments);return this}if(v(e,".")&&(o=e.split("."),e=o.splice(0,1)[0]),this._events.hasOwnProperty(e)===!1)return this;for(arguments.length>1&&(t=Array.prototype.slice.call(arguments,1)),r=0,s=this._events[e].length;s>r;r++)a(o,this._events[e][r].namespaces)&&(this._events[e][r].listener.apply(this._events[e].context,t),this._events[e][r].once&&(n=!0));return n&&i.call(this,e,o,f),this},r.prototype.on=function(e){var t,n;if(arguments.length<2||"undefined"==typeof e)return this;if(l(e)){for(t=0,n=e.length;n>t;t++)arguments[0]=e[t],this.on.apply(this,arguments);return this}for(t=1,n=arguments.length;n>t;t++)s.call(this,e,arguments[t]);return this},r.prototype.once=function(e){var t,n;if(arguments.length<2||"undefined"==typeof e)return this;if(l(e)){for(t=0,n=e.length;n>t;t++)arguments[0]=e[t],this.once.apply(this,arguments);return this}for(t=1,n=arguments.length;n>t;t++)s.call(this,e,arguments[t],!0);return this},r.prototype.off=function(e){var n,r,s;if("undefined"==typeof this._events)return this;if(0===arguments.length)this._events.hasOwnProperty("removeListener")?o.call(this):this._events=t;else{if("undefined"==typeof e)return this;if(l(e)){for(n=0,r=e.length;r>n;n++)arguments[0]=e[n],this.off.apply(this,arguments);return this}if(v(e,".")&&(s=e.split("."),e=s.splice(0,1)[0]),1===arguments.length)if(l(s))if(""===e)for(e in this._events)this._events.hasOwnProperty(e)&&i.call(this,e,s,h);else{if(this._events.hasOwnProperty(e)===!1)return this;i.call(this,e,s,h)}else{if(this._events.hasOwnProperty(e)===!1)return this;this._events.hasOwnProperty("removeListener")?o.call(this,e):delete this._events[e]}else if(""===e){for(e in this._events)if(this._events.hasOwnProperty(e))for(n=1,r=arguments.length;r>n;n++)i.call(this,e,s,u,arguments[n])}else{if(this._events.hasOwnProperty(e)===!1)return this;for(n=1,r=arguments.length;r>n;n++)i.call(this,e,s,u,arguments[n])}}return this},r.prototype.addListener=r.prototype.on,r.prototype.removeListener=r.prototype.off,r.prototype.removeAllListeners=r.prototype.off;var m=function(){function e(){}if(Object.create)return Object.create;var t=Object.prototype.hasOwnProperty;return function(n){if("object"!=typeof n)throw TypeError("Object prototype may only be an Object or null");e.prototype=n;var r=new e;if(e.prototype=null,arguments.length>1){var s=Object(arguments[1]);for(var i in s)t.call(s,i)&&(r[i]=s[i])}return r}}();"function"==typeof define&&define.amd?define(function(){return r}):"undefined"!=typeof module?module.exports=r:e.EventEmitter=r}(this);